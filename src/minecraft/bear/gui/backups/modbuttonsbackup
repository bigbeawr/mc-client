package bear.gui.config.components;

import java.awt.Color;

import org.lwjgl.opengl.GL11;

import bear.gui.mod.HudMod;
import bear.gui.normods.mod.Module;
import bear.gui.panel.WatermarkPanel;
import bear.misc.ClientFont;
import net.minecraft.client.Minecraft;
import net.minecraft.client.gui.Gui;
import net.minecraft.client.gui.ScaledResolution;
import net.minecraft.client.renderer.GlStateManager;
import net.minecraft.util.ResourceLocation;

public class ModButtons {

    public int x, y, w, h, settingX, settingX2;
    public HudMod mod;
    public static ClientFont mfr;   
    ResourceLocation toggled_arrow = new ResourceLocation("/bear/icons/untoggle.png");
    ResourceLocation untoggled_arrow = new ResourceLocation("/bear/icons/toggle.png");
    ResourceLocation settings_icon = new ResourceLocation("/bear/icons/settings.png");
    public ScaledResolution sr = new ScaledResolution(Minecraft.getMinecraft());
    int antiAliasingFactor, width, height;
    public ModButtons(int x, int y, int w, int h, HudMod m){
        width = sr.getScaledWidth();
        height = sr.getScaledHeight();
        antiAliasingFactor = sr.getScaleFactor();
        this.x = x;
        this.y = y;
        this.w = w;
        this.h = h;
        this.mod = m;
        this.settingX = x - 20;
        this.settingX2 = x - 15;
    }
    

    public void draw() {
        
        
        if(mfr == null) mfr = new ClientFont("roboto condensed", 20);
        drawImg(x + 17, y, false, getButton());
        drawImg(x, y, false, settings_icon);
        mfr.drawString(mod.name, x+ 25, y+2, -1);
        

    }
    
    private int getColor() {
        if(mod.isEnabled()) {
            return new Color(0, 255, 0, 255).getRGB();
        } else {
            return new Color(255, 0, 0, 255).getRGB();
        } 
    }
    
    private ResourceLocation getButton() {
        if(mod.isEnabled()) {
            return toggled_arrow;
        }else {
            return untoggled_arrow;
        }
    }
    
    public void onClick(int mouseX, int mouseY, int button) {
        if(mouseX >= x && mouseX <= x + w && mouseY >= y && mouseY <= y + h) {
            
            mod.toggle();
        }
        
        if(mouseX >= settingX && mouseX <= settingX + w && mouseY >= y && mouseY <= y+h) {
            System.out.println("Settings for: " + mod.name);
            switch(mod.name){
            case "Watermark":
                Minecraft.getMinecraft().displayGuiScreen(new WatermarkPanel());
                break;
            
        
            }
        }

    }
    
    private void drawImg(int x, int y, boolean b, ResourceLocation icon) {
        Minecraft.getMinecraft().getTextureManager().bindTexture(icon);
        Gui.drawModalRectWithCustomSizedTexture(x - 16, b ? y+16:y, 0.0F, 0.0F, 16, 16, 16, 16);
    }
    
    
}
